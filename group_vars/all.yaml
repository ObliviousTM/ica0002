mysql_host: 192.168.42.{{ hostvars['ObliviousTM-2']['ansible_default_ipv4']['address'].split('.')[3] }}
mysql_database: agama
mysql_user: agama
mysql_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64363464336635646234343261373961623961363230353632336437633137303363666139316539
          6430613263346662333964336465636164643665346361310a326635303332383839653162636235
          35373663613265373765623833653864316663373532376636396366333161623836633032613237
          3062643439346432620a653538303135666531653439313131613931396535373635316338376166
          3463

mysql_exporter_user: mysql_exporter_second
mysql_exporter_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          65333430313038396437643463366635366334303535633663393831656531386533386432643730
          6465656238366431346133303237323437336264343939380a363737333266386433333163653230
          61366463316462386562353039323337626565306438396534373439303638333531313662396432
          3734303661613761650a613337383666633865363032323439363536663365623939663031333361
          3530

ns_transfer_secret: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64363463343966666234323032353331366666643930393165373664343564616436323835653362
          6161396563313434393233376262643138366333383732340a363330376563653434333638643165
          63356132653632613831663130626462653561643936313839663237373762616636316139366263
          6366653436303335650a343764613233353536303632653664333337636136306361373634646164
          33623838646362323930653462666330303336333666346161393164633538303738323633636533
          3062343165666466326531393533656264353230656533376664

ns_update_secret: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64363839666138363431366135333036626534303166323065333066376431356262376435396238
          3139313464313965666135373633393363633230663631370a636338643331646333396431623430
          31343963366162623562373732363937636631623830653431323438643431666533313264333766
          6662616362313366370a636365643234343738663066656363656439343635333635333833386462
          64396565326164316163303138393632336233346335383966386161393266343032306537626139
          3863643964386366376534663264316231643534636230356630

mysql_backup_user: backup
mysql_backup_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38303165356134363332326436396531656635656261666637393838333666646438653166323464
          6530653966396363353362656366383937336435313762340a613139666534313962616433353262
          63386632356161306431623033383664383737623432663130396437393562323336313032336634
          3438616562663539370a343762366332343832666464363634346165653130393866643563373934
          3933

mysql_replication_user: replication
mysql_replication_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          34393337623432623331396262623565393236656162333834383237633163663265656134386261
          3832333737613633653131353833656465663835353466660a343736663939353638306231363464
          62646639353465613032333761333432393436303335613139303630623932663436363634353162
          6432363064623731350a396130326363313532616236356133356138363536323838326235333538
          32626262646433333032303535313134633462306365353063303964306431663632

local_network: 192.168.42.0/24
docker_network: 172.17.0.0/16
static_route_network: 192.168.100.0/24 
localhost: 127.0.0.0/8
localhost_address: 127.0.0.1
vm1_ip: 192.168.42.{{ hostvars['ObliviousTM-1']['ansible_default_ipv4']['address'].split('.')[3] }}
vm2_ip: 192.168.42.{{ hostvars['ObliviousTM-2']['ansible_default_ipv4']['address'].split('.')[3] }}
vm3_ip: 192.168.42.{{ hostvars['ObliviousTM-3']['ansible_default_ipv4']['address'].split('.')[3] }}
vm1_port_number : "{{ hostvars['ObliviousTM-1']['ansible_default_ipv4']['address'].split('.')[3] }}80"
vm2_port_number : "{{ hostvars['ObliviousTM-2']['ansible_default_ipv4']['address'].split('.')[3] }}80"
vm3_port_number : "{{ hostvars['ObliviousTM-3']['ansible_default_ipv4']['address'].split('.')[3] }}80"
dns_forwarders:
  - 8.8.8.8
  - 1.1.1.1
  - 9.9.9.9
  - 9.9.9.10

backup_ip: 192.168.42.156

domain: rdash
fqdn: rdash.io

resolv_conf_search_domains:
  - rdash.io

prometheus_exporters:
  
  node:
    port: 9100

  nginx:
    port: 9113

  mysql:
    port: 9104

  bind:
    port: 9119

pinger_port: 8086
haproxy_port: 88
docker_haproxy_exporter_port: 9101
keepalived_exporter_port: 9165
grafana_port: 3000
docker_grafana_port: 3001
docker_agama_port: 8000
statistics_port: 8053


dns_record:
 - name: ObliviousTM-2
   type: A
   ipaddress: 192.168.42.{{ hostvars['ObliviousTM-2']['ansible_default_ipv4']['address'].split('.')[3] }}
 - name: ObliviousTM-1
   type: A
   ipaddress: 192.168.42.{{ hostvars['ObliviousTM-1']['ansible_default_ipv4']['address'].split('.')[3] }}
 - name: ObliviousTM-3
   type: A
   ipaddress: 192.168.42.{{ hostvars['ObliviousTM-3']['ansible_default_ipv4']['address'].split('.')[3] }}
 - name: backup
   type: A
   ipaddress: 192.168.42.156

a_records:
  - subdomain: backup
    ip: 192.168.42.156

acl: ica0002acl

ica0002acl:
  - 127.0.0.1
  - 192.168.42.0/24

nginx_container_per_vm: 2

dns_cnames:
  - cname: ns
    real: "{{ groups['dns_servers'][0] }}"
  - cname: influxdb
    real: "{{ groups['influxdb'][0] }}"
  - cname: www
    real: "{{ groups['web_servers'][0] }}" 
  - cname: db
    real: "{{ groups['db_servers'][0] }}" 
  - cname: grafana
    real: "{{ groups['grafana'][0] }}"
  - cname: prometheus
    real: "{{ groups['prometheus'][0] }}"
  - cname: haproxy1
    real: "{{ groups['haproxy'][0] }}"
  - cname: haproxy2
    real: "{{ groups['haproxy'][1] }}"